<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scientific Calculator</title>
</head>
<body>

  <h1>You Made it!</h1>
  <h2>Now supports searching & form submissions ðŸŽ‰</h2>

  <input type="text" id="urlInput" placeholder="Start With https://" onkeydown="handleKeyPress(event)" />
  <button onclick="loadProxy()">Go</button>

  <div id="iframeContainer">
    <iframe id="proxyFrame"></iframe>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">â›¶ Fullscreen</button>
  </div>

  <h2>Made by: you might know me but if not then you donâ€™t need to know</h2>

  <script>
    function loadProxy() {
      const url = document.getElementById("urlInput").value.trim();
      if (!url.startsWith("http")) {
        alert("Please enter a valid URL starting with http:// or https://");
        return;
      }
      const proxyUrl = `https://gregarious-piroshki-a874a0.netlify.app/.netlify/functions/proxy?url=${encodeURIComponent(url)}`;
      document.getElementById("proxyFrame").src = proxyUrl;
    }

    function handleKeyPress(event) {
      if (event.key === "Enter") {
        event.preventDefault();
        loadProxy();
      }
    }

    function toggleFullscreen() {
      const iframe = document.getElementById("proxyFrame");
      if (iframe.requestFullscreen) iframe.requestFullscreen();
      else if (iframe.webkitRequestFullscreen) iframe.webkitRequestFullscreen();
      else if (iframe.msRequestFullscreen) iframe.msRequestFullscreen();
    }
  </script>
</body>
</html>
